---
alwaysApply: false
---
# Happy Pods Project Cursor Rules

Remember: This is an English project. Generated comments should be in Chinese, but all user-facing interface text must be in English!

## Project Structure
- Entry: Next.js 15 (App Router)
- Main directories:
  - `src/app/` Pages and routes
  - `src/components/` Components
  - `src/server/api/routers/` tRPC routes
  - `src/lib/` Utility libraries (e.g., wagmi config)
  - `prisma/` Database schema

## Tech Stack
- TypeScript (strict mode)
- tRPC + Prisma + PostgreSQL
- Tailwind CSS 4 + heroui
- RainbowKit + wagmi + viem (Web3)
- TanStack Query (React Query)
- ESLint + Prettier

## Naming Conventions
- Components: PascalCase
- Files: kebab-case
- Variables/functions: camelCase
- Constants: UPPER_SNAKE_CASE
- Types/interfaces: PascalCase

## Code Standards
- Use `import type { ... }` for type imports
- Use `Readonly<T>` for props types
- Avoid `any`, prefer `unknown` or specific types
- Use zod for runtime validation
- Use functional components, props with `Readonly<{ children: React.ReactNode }>`
- Add 'use client' for client components
- Web3 config in `src/lib/wagmi.ts`
- Use `@t3-oss/env-nextjs` + zod for environment variables

## Database
- Prisma schema defined in `prisma/schema.prisma`
- Use `@default(now())` and `@updatedAt` for timestamps
- Add indexes for frequently queried fields
- Database operations only on server side

## Web3
- RainbowKit handles wallet connection UI
- wagmi hooks for account, balance, etc.
- Handle wallet connection states gracefully
- Support multiple chains, use environment variables for WalletConnect ID

## Development Workflow
1. Use pnpm for package management
2. `pnpm dev` to start development (port 3016)
3. `pnpm db:studio` to view database
4. `pnpm format:write` for formatting
5. `pnpm lint` for code checking
6. `pnpm typecheck` for type checking

## Others
- Follow T3 Stack best practices
- Keep code simple and maintainable
- Test Web3 on multiple networks, handle wallet disconnection
- Test database migrations for important changes
description:
globs:
alwaysApply: false
---
